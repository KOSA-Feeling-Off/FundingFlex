<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/css/funding-style.css}">
</head>
<body>

	<div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <h1 class="text-center my-4">펀딩 개설하기</h1>
                
                <form id="fundingsForm" th:action="@{/api/fundings}" th:object="${fundingsForm}"
                    method="post" enctype="multipart/form-data" onsubmit="return validateForm()">

                    <!-- 카테고리 -->
                    <div class="form-group mt-4">
                        <label for="category">카테고리</label>
                        <select id="category" th:field="*{categoryId}" class="form-control" onchange="updateCategoryName()">
                            <option value="" selected>카테고리를 선택하세요</option>
                            <option th:each="category : ${categoryList}"
                                th:value="${category.categoryId}"
                                th:text="${category.categoryName}">
                            </option>
                        </select>
                        <input type="hidden" id="categoryName" name="categoryName" th:field="*{categoryName}">
                        <div id="categoryError" class="text-danger mt-1" style="display: none;">카테고리를 선택해주세요</div>
                    </div>

                    <div class="form-group mt-4">
                        <label for="title">제목</label>
                        <input type="text" id="title" th:field="*{title}" placeholder="제목을 입력해주세요" class="form-control" />
                        <div id="titleError" class="text-danger mt-1" style="display: none;">제목을 입력해주세요</div>
                    </div>
                    
                    <div class="form-group mt-4">
                        <label for="content">내용</label>
                        <textarea id="content" th:field="*{content}" placeholder="내용을 입력해주세요" class="form-control"></textarea>
                        <div id="contentError" class="text-danger mt-1" style="display: none;">내용을 입력해주세요</div>
                    </div>
                    
                    <div class="form-group mt-4">
                        <label for="goalAmount">목표 금액 설정</label>
                        <input type="number" id="goalAmount" th:field="*{goalAmount}" class="form-control" />
                        <div id="amountError" class="text-danger mt-1" style="display: none;">목표 금액을 입력해주세요</div>
                    </div>
                    
                    <!-- 이미지 업로드 5개의 네모 칸 -->
                    <div class="form-group mt-5">
                        <label>이미지 업로드</label>
                        <div id="imageUploadContainer" class="image-upload-container">
                            <div class="image-upload">
                                <input type="file" name="images" accept="image/*" onchange="previewImage(this)">
                                <img src="#">
                            </div>
                            <div class="image-upload">
                                <input type="file" name="images" accept="image/*" onchange="previewImage(this)">
                                <img src="#">
                            </div>
                            <div class="image-upload">
                                <input type="file" name="images" accept="image/*" onchange="previewImage(this)">
                                <img src="#">
                            </div>
                            <div class="image-upload">
                                <input type="file" name="images" accept="image/*" onchange="previewImage(this)">
                                <img src="#">
                            </div>
                            <div class="image-upload">
                                <input type="file" name="images" accept="image/*" onchange="previewImage(this)">
                                <img src="#">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group text-center mt-4">
                        <button type="submit" class="btn btn-primary">등록</button>
                    </div>
                    
                </form>
                
            </div>
        </div>
    </div>

	<script th:src="@{/js/Sortable.min.js}"></script>
	<script th:src="@{/js/Swap.js}"></script>
	<script th:src="@{/js/funding.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	
	
</body>
</html>